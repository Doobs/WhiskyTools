<h4>Temperature Converter</h4>

<div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Fahrenheit:</label>
    <div class="col-sm-9">
        <input type="number" class="form-control" 
               @bind="Fahrenheit" @bind:event="oninput" />
        <input type="range" min="50" max="500" step="10" 
               @bind="Fahrenheit" @bind:event="oninput" class="form-range w-100" />
    </div>
</div>

<div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Celsius:</label>
    <div class="col-sm-9">
        <input type="number" class="form-control" 
               @bind="Celsius" @bind:event="oninput" />
        <input type="range" min="10" max="260" step="10" 
               @bind="Celsius" @bind:event="oninput" class="form-range w-100" />
    </div>
</div>


    @if (!string.IsNullOrEmpty(result))
    {
        <p class="mt-3">@result</p>
    }

@code{
    double fahrenheit = 250;
    double celsius;
    string result;

     protected override void OnInitialized()
    {
        // Run initial calculations
        SyncFromFahrenheit();
    }

    void SyncFromFahrenheit()
    {
        celsius = Math.Round((fahrenheit - 32) * 5 / 9, 1);
        result = $"{fahrenheit} 째F = {celsius:F1} 째C";
    }

    void SyncFromCelsius()
    {
        fahrenheit = Math.Round((celsius * 9 / 5) + 32, 1);
        result = $"{celsius} 째C = {fahrenheit:F1} 째F";
    }

    // Property wrappers so binding triggers conversion automatically
    double Fahrenheit
    {
        get => fahrenheit;
        set { fahrenheit = value; SyncFromFahrenheit(); }
    }

    double Celsius
    {
        get => celsius;
        set { celsius = value; SyncFromCelsius(); }
    }

}